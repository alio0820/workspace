<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="shortcut icon" href="../images/fruit.ico">
		<title>图案</title>
		<style>
			body{
				background:#dddddd;
			}
			#canvas{
				background:#eeeeee;
				border:thin solid #cornflowerblue;
			}
			#radios{
				padding:10px;
			}
		</style>
	</head>
	<body>
		<div>
			<input type='radio' id='repeatRadio' name ='patternRadio' checked />repeat
			<input type='radio' id='repeatXRadio' name ='patternRadio'  />repeat-x
			<input type='radio' id='repeatYRadio' name ='patternRadio'  />repeat-y
			<input type='radio' id='noRepeatRadio' name ='patternRadio'  />no repeat
			
		</div>
		<canvas id='canvas' width='450' height='275'>
			Canvas not supported
		</canvas>
		<script>
			var canvas = document.getElementById('canvas'),
				context = canvas.getContext('2d');
				repeatRadio = document.getElementById('repeatRadio'),
				noRepeatRadio = document.getElementById('noRepeatRadio'),
				repeatXRadio = document.getElementById('repeatXRadio'),
				repeatYRadio = document.getElementById('repeatYRadio'),
				image = new Image();
			function fillCanvasWithPattern(repeatString){
				var pattern = context.createPattern(image,repeatString);
				context.clearRect(0,0,canvas.width,canvas.height);
				context.fillStyle = pattern;
				context.fillRect(0,0,canvas.width,canvas.height);
				context.fill();
			}
			repeatRadio.onclick = function(e){
				fillCanvasWithPattern('repeat');
			}
			repeatXRadio.onclick = function(e){
				fillCanvasWithPattern('repeat-x');
			}
			repeatYRadio.onclick = function(e){
				fillCanvasWithPattern('repeat-y');
			}
			noRepeatRadio.onclick = function(e){
				fillCanvasWithPattern('no-repeat');
			}
			image.src ='../images/cursor.png';
			image.onload = function(e){
				fillCanvasWithPattern('repeat');
			}
		</script>
	</body>
</html>